
# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:

# Uncomment this if you are using SSL/TLS, running in Docker container, etc.
# http:
#   base_url: example.duckdns.org:8123
homeassistant:
  packages: !include_dir_named packages
  customize: !include customize.yaml
  auth_providers:
    - type: trusted_networks
      trusted_networks:
        - 192.168.34.0/24
        - 192.168.200.0/24
      trusted_users:
        192.168.34.0/24:
          - 9ee6057145804b9f8ce94493ba68b901
        192.168.200.0/24:
          - 9ee6057145804b9f8ce94493ba68b901

discovery:
  enable: dlna_dmr

logger:
  default: info
  logs:
#   pydeconz: debug
#   homeassistant.components.deconz: debug
    homeassistant.components.automation: info
    aiounifi: debug
    homeassistant.components.unifi: debug
    homeassistant.components.device_tracker.unifi: debug
    homeassistant.components.switch.unifi: debug
#zwave:
#  usb_path: /dev/ttyACM0

apcupsd:
  host: a722577e-apcupsd       
# Text to speech
tts:
  - platform: google_translate
    service_name: google_translate_say

group: !include groups.yaml
automation: !include automations.yaml
#automation: !include_dir_merge_list automation
script: !include scripts.yaml
scene: !include scenes.yaml

panel_custom:
  - name: zwavegraph2
    sidebar_title: ZWave Graph2
    sidebar_icon: mdi:access-point-network
    url_path: zwave
    
blink:
  username: ade@x1ade.co.uk
  password: !secret blink_password
  scan_interval: 300
  binary_sensors:
    monitored_conditions:
      - motion_enabled
      - motion_detected
  sensors:
    monitored_conditions:
      - battery
      - temperature
      - wifi_strength

http:
# api_password: 44Pires07
 server_port: 8123  
 ssl_certificate: /ssl/fullchain.pem
 ssl_key: /ssl/privkey.pem
 base_url: https://hassio.x1ade.co.uk:8123
 ip_ban_enabled: true
 login_attempts_threshold: 5

zoneminder:
 - host: 192.168.34.18
   path_zms: /cgi-bin-zm/nph-zms

camera:
 - platform: zoneminder

sensor:
 - platform: zoneminder
   monitored_conditions: all
# - platform: snmp
#   host: 192.168.34.30
#   community: public
#   baseoid: .1.3.6.1.4.1.4526.100.7
# Example configuration.yaml entry
 - platform: fitbit
   clock_format: 24H
   unit_system: en_GB
   monitored_resources:
     - "activities/heart"
     - "activities/tracker/activityCalories"
     - "activities/tracker/calories"
     - "activities/tracker/distance"
     - "activities/tracker/elevation"
     - "activities/tracker/floors"
     - "activities/tracker/steps"
     - "body/bmi"
     - "body/fat"
     - "body/weight"
     - "devices/battery"
     - "sleep/efficiency"
     - "sleep/minutesAsleep"
     - "sleep/startTime"
     - "sleep/timeInBed"
 - platform: time_date
   display_options:
      - 'time'
      - 'date'
      - 'date_time'
#      - 'date_time_utc'
#      - 'date_time_iso'
#      - 'time_date'
#      - 'time_utc'
#      - 'beat'
 - platform: apcupsd
   resources:
     - status
     - linev
     - loadpct
     - bcharge
     - timeleft
     - outputv
# Example configuration.yaml entry
notify:
  - name: email_alert
    platform: smtp
    server: internalmailrelay.x1ade.local
    port: 25
    encryption: none
    timeout: 15
    sender: hassio@x1ade.co.uk
    recipient: ade@x1ade.co.uk
    sender_name: HassIO
  - platform: html5
    name: Hass.IO X1ADE
    vapid_pub_key: !secret vapid_pub_key
    vapid_prv_key: !secret vapid_prv_key
    vapid_email: ade@x1ade.co.uk
media_player:
  - platform: androidtv
    scan_interval: 60
    name: Living Room TV
    device_class: androidtv
    adbkey: "/config/adb/adbkey"
    host: 192.168.34.7
    adb_server_ip: 127.0.0.1
    adb_server_port: 5037
    state_detection_rules:
      'com.netflix.ninja':
        - 'media_session_state'
      'com.plexapp.android':
        - 'playing':
            'media_session_state': 3  # this indentation is important!
            'wake_lock_size': 3       # this indentation is important!
        - 'paused':
            'media_session_state': 3  # this indentation is important!
            'wake_lock_size': 1       # this indentation is important!
        - 'standby'
# Example configuration.yaml entry
#bmw_connected_drive:
#  x1ade:
#    username: ade@x1ade.co.uk
#    password: !secret bmw_password
#    region: "rest_of_world"
# Example configuration.yaml entry for SNMP version 1 or 2c
device_tracker:
  - platform: bluetooth_tracker
    new_device_defaults:
      track_new_devices: true
#  - platform: snmp
#    host: 192.168.34.30
#    community: !secret snmp_community
#    baseoid: .1.3.6.1.4.1.4526.100.7.13.8.1.1.1.50
    #version: '2c'
    #name: NetgearWiFi
# Example configuration.yaml entry for Netgear device
#device_tracker:
#  - platform: netgear
#    host: 192.168.34.30
#    username: admin
#    password: !secret netgear_admin
#    interval_seconds: 10
#    consider_home: 180
#    new_device_defaults:
#      track_new_devices: true
owntracks:
  max_gps_accuracy: 200
ifttt:
  key: !secret ifttt_api_key